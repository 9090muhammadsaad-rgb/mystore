<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faizan Store Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --p-green: #01875f; --p-bg: #ffffff; --p-txt: #202124; --p-card: #ffffff; --p-border: #e8eaed; --p-surface: #f1f3f4; }
        [data-theme="dark"] { --p-bg: #121212; --p-txt: #e8eaed; --p-card: #1e1e1e; --p-border: #333; --p-surface: #2d2d2d; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Google Sans', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--p-bg); color: var(--p-txt); overflow-x: hidden; scroll-behavior: smooth; }

        /* HEADER & SEARCH */
        header { position: sticky; top: 0; background: var(--p-bg); z-index: 1000; padding: 12px 16px; border-bottom: 1px solid var(--p-border); display: flex; align-items: center; gap: 10px; }
        .search-pill { flex: 1; display: flex; align-items: center; background: var(--p-surface); border-radius: 24px; padding: 0 15px; }
        .search-box { width: 100%; border: none; background: transparent; padding: 10px; font-size: 15px; outline: none; color: var(--p-txt); }
        .mic-icon { cursor: pointer; padding: 5px; opacity: 0.7; }

        /* CATEGORY CHIPS */
        .cat-box { display: flex; gap: 8px; overflow-x: auto; padding: 12px 16px; scrollbar-width: none; }
        .cat-box::-webkit-scrollbar { display: none; }
        .chip { padding: 7px 16px; background: var(--p-card); border: 1px solid var(--p-border); border-radius: 20px; font-size: 13px; white-space: nowrap; cursor: pointer; font-weight: 500; }
        .chip.active { background: var(--p-green); color: white; border: none; }

        /* GRID ANIMATION */
        .container { padding: 0 16px 100px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 20px; transition: 0.3s; }
        .app-card { cursor: pointer; position: relative; animation: reveal 0.5s ease-out; }
        @keyframes reveal { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .app-card img { width: 100%; aspect-ratio: 1/1; border-radius: 22%; object-fit: cover; border: 1px solid var(--p-border); }
        .badge-new { position: absolute; top: 5px; right: 5px; background: #00c853; color: white; font-size: 8px; padding: 2px 6px; border-radius: 10px; font-weight: bold; }
        .app-name { font-size: 12px; font-weight: 500; margin-top: 8px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        /* DETAIL PAGE */
        #details { position: fixed; inset: 0; background: var(--p-bg); z-index: 5000; display: none; overflow-y: auto; }
        .d-header { position: sticky; top: 0; background: var(--p-bg); padding: 12px 16px; border-bottom: 1px solid var(--p-border); display: flex; align-items: center; z-index: 10; }
        .hero { display: flex; padding: 20px; gap: 15px; }
        .hero img { width: 85px; height: 85px; border-radius: 20%; }
        
        /* VERSIONS LIST */
        .v-list { padding: 0 20px; }
        .v-item { background: var(--p-surface); border-radius: 12px; padding: 12px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .btn-copy { background: none; border: 1px solid var(--p-green); color: var(--p-green); padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 11px; }

        /* INFO BUTTONS */
        .info-tab { padding: 20px; border-top: 1px solid var(--p-border); }
        .info-btn { width: 100%; padding: 12px; text-align: left; background: none; border: none; border-bottom: 1px solid var(--p-border); color: var(--p-txt); cursor: pointer; display: flex; justify-content: space-between; }

        /* DRAWER */
        #drawer { position: fixed; bottom: -100%; left: 0; width: 100%; background: var(--p-card); z-index: 6000; padding: 20px; border-radius: 25px 25px 0 0; transition: 0.4s; box-shadow: 0 -10px 30px rgba(0,0,0,0.2); }
        #drawer.open { bottom: 0; }
    </style>
</head>
<body data-theme="light">

    <header>
        <div class="search-pill">
            <input type="text" id="search" class="search-box" placeholder="Search apps...">
            <span class="mic-icon" onclick="startSpeak()">üéôÔ∏è</span>
        </div>
        <div onclick="toggleDrawer(true)" style="cursor:pointer; font-size: 20px;">üîò</div>
    </header>

    <div class="cat-box" id="cats"></div>

    <div class="container">
        <div class="grid" id="main-grid"></div>
    </div>

    <div id="details">
        <div class="d-header">
            <button onclick="closeDetails()" style="background:none; border:none; font-size:24px; color:var(--p-txt);">‚Üê</button>
            <span style="margin-left:15px; font-weight:bold;" id="d-title">App</span>
        </div>
        <div id="d-hero-box"></div>
        <div class="v-list" id="version-box"></div>
        <div class="info-tab" id="extra-info"></div>
    </div>

    <div id="drawer">
        <h3 style="margin-bottom:15px;">Settings & Sorting</h3>
        <button class="info-btn" onclick="setTheme('light')">White Mode ‚òÄÔ∏è</button>
        <button class="info-btn" onclick="setTheme('dark')">Dark Mode üåô</button>
        <button class="info-btn" onclick="sort('size-h')">Highest Size üìà</button>
        <button class="info-btn" onclick="sort('size-l')">Lowest Size üìâ</button>
        <button class="info-btn" onclick="sort('new')">Newest First üÜï</button>
        <button class="info-btn" onclick="sort('old')">Oldest First ‚è≥</button>
        <button onclick="toggleDrawer(false)" style="width:100%; padding:15px; margin-top:10px; border-radius:10px; border:none; background:var(--p-surface);">Close</button>
    </div>

    <nav style="position:fixed; bottom:0; width:100%; background:var(--p-card); display:flex; padding:15px; border-top:1px solid var(--p-border);">
        <button onclick="tab('all')" style="flex:1; border:none; background:none; color:var(--p-green); font-weight:bold;">Home</button>
        <button onclick="tab('game')" style="flex:1; border:none; background:none;">Games</button>
        <button onclick="tab('app')" style="flex:1; border:none; background:none;">Apps</button>
    </nav>

    <script>
        let db = [];
        let currentType = 'all';

        async function init() {
            const res = await fetch('info.json');
            const data = await res.json();
            db = data.apps;
            renderCats();
            renderGrid(db);
        }

        function renderCats() {
            const cats = [...new Set(db.filter(x => currentType === 'all' || x.type === currentType).map(x => x.category))];
            const box = document.getElementById('cats');
            box.innerHTML = `<div class="chip active" onclick="filterCat('all')">All</div>`;
            cats.forEach(c => box.innerHTML += `<div class="chip" onclick="filterCat('${c}')">${c}</div>`);
        }

        function renderGrid(list) {
            const grid = document.getElementById('main-grid');
            grid.innerHTML = list.map(a => `
                <div class="app-card" onclick="openDetails('${a.id}')">
                    ${a.isNew ? '<span class="badge-new">NEW</span>' : ''}
                    <img src="${a.icon}">
                    <div class="app-name">${a.name}</div>
                    <div style="font-size:10px; color:gray;">${a.size || 'N/A'}</div>
                </div>
            `).join('');
        }

        function openDetails(id) {
            const a = db.find(x => x.id === id);
            document.getElementById('d-title').innerText = a.name;
            document.getElementById('d-hero-box').innerHTML = `
                <div class="hero">
                    <img src="${a.icon}">
                    <div class="hero-info">
                        <h2>${a.name}</h2>
                        <p style="color:var(--p-green); font-weight:bold;">${a.size || 'N/A'}</p>
                    </div>
                </div>
            `;
            
            // Multiple Versions
            const vBox = document.getElementById('version-box');
            vBox.innerHTML = '<h4>Available Versions</h4>';
            (a.versions || []).forEach(v => {
                vBox.innerHTML += `
                    <div class="v-item">
                        <span>Ver: ${v.ver}</span>
                        <div style="display:flex; gap:10px;">
                            <button class="btn-copy" onclick="copyText('${v.url}')">Copy Link</button>
                            <a href="${v.url}" style="text-decoration:none; color:var(--p-green); font-weight:bold;">Download</a>
                        </div>
                    </div>
                `;
            });

            // Extra Info
            document.getElementById('extra-info').innerHTML = `
                <button class="info-btn" onclick="alert('${a.description}')">About This App <span>></span></button>
                <button class="info-btn">Compatibility: <span>${a.compatibility || 'Android 5.0+'}</span></button>
                <button class="info-btn">Package: <span>${a.package || 'N/A'}</span></button>
            `;

            document.getElementById('details').style.display = 'block';
        }

        function sort(m) {
            let list = [...db];
            if(m === 'size-h') list.sort((a,b) => parseFloat(b.size) - parseFloat(a.size));
            if(m === 'size-l') list.sort((a,b) => parseFloat(a.size) - parseFloat(b.size));
            if(m === 'new') list.reverse();
            renderGrid(list);
            toggleDrawer(false);
        }

        function tab(t) { currentType = t; renderCats(); renderGrid(t === 'all' ? db : db.filter(x => x.type === t)); }
        function closeDetails() { document.getElementById('details').style.display = 'none'; }
        function toggleDrawer(s) { document.getElementById('drawer').classList.toggle('open', s); }
        function setTheme(t) { document.body.setAttribute('data-theme', t); toggleDrawer(false); }
        function copyText(t) { navigator.clipboard.writeText(t); alert('Link Copied!'); }
        function startSpeak() { alert('Voice search activated... (Simulated)'); }

        init();
    </script>
</body>
    </html>
    
