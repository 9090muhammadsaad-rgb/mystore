<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>APP / Game Store</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#0f2027;
  color:white;
}

/* HEADER */
header{
  text-align:center;
  padding:20px;
}
header img{
  max-width:100%;
  height:120px;
  object-fit:contain;
}

/* SEARCH */
.search{
  padding:15px;
}
.search input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  font-size:16px;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:15px;
  padding:15px;
}
.card{
  background:#ffffff10;
  border-radius:15px;
  padding:10px;
  cursor:pointer;
}
.card img{
  width:100%;
  height:120px;
  object-fit:contain;
}
.card h4{margin:5px 0}

/* DETAILS VIEW */
#detail{
  display:none;
  padding:15px;
}
#detail img{
  width:100px;
}
video{
  width:100%;
  border-radius:15px;
}

/* RESPONSIVE */
@media(min-width:768px){
  .grid{grid-template-columns:repeat(4,1fr);}
}
</style>
</head>

<body>

<header id="header"></header>

<div class="search">
  <input placeholder="Search games & apps..." oninput="search(this.value)">
</div>

<div class="grid" id="list"></div>

<div id="detail"></div>

<script>
let apps=[];

/* LOAD WEBSITE INFO */
fetch("my_web_info.json")
.then(r=>r.json())
.then(w=>{
  document.body.style.backgroundImage=`url(${w.backgroundImage})`;
  header.innerHTML=`
    <img src="${w.headerImage}">
    <h2>${w.storeName}</h2>
    <p>${w.tagline}</p>`;
});

/* LOAD APPS */
fetch("info.json")
.then(r=>r.json())
.then(d=>{
  apps=d;
  render(d);
});

function render(data){
  list.innerHTML="";
  data.forEach(a=>{
    list.innerHTML+=`
    <div class="card" onclick="openApp('${a.id}')">
      <img src="${a.icon}" onerror="this.src='assets/default.png'">
      <h4>${a.name}</h4>
      <small>${a.category}</small>
    </div>`;
  });
}

function openApp(id){
  const a=apps.find(x=>x.id===id);
  list.style.display="none";
  detail.style.display="block";
  detail.style.background=`url(${a.background}) center/cover`;

  detail.innerHTML=`
    <button onclick="back()">⬅ Back</button>
    <h2>${a.name}</h2>
    <img src="${a.icon}">
    <p>${a.description}</p>
    <p><b>Version:</b> ${a.version}</p>
    <p><b>MOD:</b> ${a.modNote}</p>
    <video controls src="${a.video}"></video>
    <a href="${a.download}">⬇ Download</a>
  `;
}

function back(){
  detail.style.display="none";
  list.style.display="grid";
}

function search(v){
  v=v.toLowerCase();
  render(apps.filter(a=>
    a.name.toLowerCase().includes(v) ||
    a.keywords.join(" ").includes(v)
  ));
}
</script>

</body>
</html>
