<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>App / Game Store</title>

<style>
:root{
  --glass:rgba(255,255,255,.12);
  --blur:blur(14px);
}

body{
  margin:0;
  font-family:system-ui;
  color:white;
  background:#0d47a1;
}

/* HEADER */
.header{
  position:sticky;
  top:0;
  z-index:10;
  padding:15px;
  text-align:center;
  backdrop-filter:var(--blur);
  background:rgba(0,0,0,.5);
}

/* SEARCH */
.search{
  position:sticky;
  top:90px;
  z-index:9;
  padding:10px;
  background:rgba(0,0,0,.5);
  backdrop-filter:var(--blur);
}
.search input{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:12px;
  padding:12px;
}
.card{
  background:var(--glass);
  backdrop-filter:var(--blur);
  border-radius:16px;
  padding:10px;
  cursor:pointer;
}
.icon{
  height:100px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  font-weight:bold;
}
.card h4{margin:8px 0}

/* DETAIL */
#detail{
  display:none;
  padding:15px;
}
.back{
  border:none;
  padding:8px 14px;
  border-radius:20px;
  margin-bottom:10px;
}
.download{
  padding:12px;
  border-radius:25px;
  text-align:center;
  margin-top:15px;
}

/* DESKTOP */
@media(min-width:768px){
  .grid{grid-template-columns:repeat(4,1fr)}
}
</style>
</head>

<body>

<div class="header" id="header"></div>
<div class="search">
  <input id="search" placeholder="Search games...">
</div>

<div class="grid" id="grid"></div>
<div id="detail"></div>

<script>
let apps=[];
const colors=[
  "#2196f3","#e91e63","#9c27b0","#009688",
  "#ff9800","#4caf50","#3f51b5",
  "#795548","#607d8b","#673ab7",
  "#00bcd4","#f44336"
];

/* WEBSITE INFO */
fetch("my_web_info.json")
.then(r=>r.json())
.then(w=>{
  let bg = w.backgroundImage && w.backgroundImage!=="N/A"
    ? `url(${w.backgroundImage})`
    : colors[0];

  document.body.style.background = bg;
  header.innerHTML = `
    <h2>${w.storeName}</h2>
    <small>${w.tagline}</small>
  `;
});

/* APPS */
fetch("info.json")
.then(r=>r.json())
.then(d=>{
  apps=d;
  render(d);
});

/* RENDER */
function render(list){
  grid.innerHTML="";
  list.forEach(a=>{
    let c=colors[Math.floor(Math.random()*colors.length)];
    grid.innerHTML+=`
      <div class="card" onclick="openApp('${a.id}')">
        <div class="icon" style="background:${c}">
          ${a.name[0]}
        </div>
        <h4>${a.name}</h4>
        <small>${a.available===false?"Not Available":"Available"}</small>
      </div>
    `;
  });
}

/* DETAIL PAGE */
function openApp(id){
  const a=apps.find(x=>x.id===id);
  grid.style.display="none";
  detail.style.display="block";

  let status = a.available===false
    ? `<div class="download" style="background:#999">Game Not Available</div>`
    : `<div class="download" style="background:#ffc107">Coming Soon</div>`;

  detail.innerHTML=`
    <button class="back" onclick="back()">â¬… Back</button>
    <h2>${a.name}</h2>
    <p>${a.description || "N/A"}</p>
    ${status}
  `;
}

/* BACK */
function back(){
  detail.style.display="none";
  grid.style.display="grid";
}

/* SEARCH */
search.oninput=()=>{
  let v=search.value.toLowerCase();
  render(apps.filter(a=>a.name.toLowerCase().includes(v)));
};
</script>

</body>
  </html>
