
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Store Elite</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ps-green: #01875f;
            --ps-dark: #202124;
            --ps-grey: #5f6368;
            --ps-border: #e8eaed;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Google Sans', sans-serif; }
        body { background: #ffffff; color: var(--ps-dark); }

        /* Header & Search */
        header {
            position: sticky; top: 0; z-index: 1000;
            background: #fff; padding: 12px 20px;
            border-bottom: 1px solid var(--ps-border);
        }
        .search-container { max-width: 700px; margin: 0 auto; position: relative; }
        .search-box {
            width: 100%; padding: 12px 20px 12px 45px;
            background: #f1f3f4; border: 1px solid transparent; border-radius: 8px;
            font-size: 16px; outline: none; transition: 0.2s;
        }
        .search-box:focus { background: #fff; border-color: var(--ps-border); box-shadow: 0 1px 4px rgba(0,0,0,0.1); }

        /* App Grid */
        .container { max-width: 1100px; margin: 20px auto; padding: 0 15px; }
        .grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 20px; margin-top: 15px;
        }
        .app-card { cursor: pointer; border-radius: 12px; padding: 10px; transition: 0.2s; }
        .app-card:hover { background: #f8f9fa; }
        .app-card img {
            width: 100%; aspect-ratio: 1/1; border-radius: 22%;
            object-fit: cover; margin-bottom: 8px; border: 1px solid var(--ps-border);
        }
        .app-name { font-size: 14px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .app-cat { font-size: 12px; color: var(--ps-grey); }

        /* Detail Page (Modal) */
        #modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 2000; display: none; overflow-y: auto;
        }
        .modal-content { max-width: 850px; margin: 0 auto; padding: 25px; }
        .close-btn { font-size: 28px; cursor: pointer; border: none; background: none; margin-bottom: 15px; color: var(--ps-grey); }

        .app-header { display: flex; gap: 24px; margin-bottom: 30px; align-items: start; }
        .app-header img { width: 140px; height: 140px; border-radius: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .install-btn {
            background: var(--ps-green); color: white; border: none;
            padding: 12px 45px; border-radius: 8px; font-weight: 500;
            cursor: pointer; margin-top: 15px; width: 100%; max-width: 280px;
        }

        .section-title { font-size: 18px; font-weight: 500; margin: 25px 0 10px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .platform-badge { background: #e8f0fe; color: #1967d2; padding: 4px 10px; border-radius: 6px; font-size: 12px; margin-right: 6px; font-weight: 500; }

        @media (max-width: 600px) {
            .grid { grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .app-header { flex-direction: column; align-items: center; text-align: center; }
        }
    </style>
</head>
<body>

    <header>
        <div class="search-container">
            <input type="text" id="search-input" class="search-box" placeholder="Search for games and more...">
        </div>
    </header>

    <div class="container">
        <h2 id="view-title">Suggested for you</h2>
        <div class="grid" id="main-grid"></div>
    </div>

    <div id="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeApp()">‚Üê</button>
            <div id="app-body"></div>
            <div class="section-title">Similar Games</div>
            <div class="grid" id="sim-grid"></div>
        </div>
    </div>

    <script>
        let apps = [];

        async function init() {
            try {
                const res = await fetch('info.json?v=' + Date.now());
                apps = await res.json();
                render(apps);
            } catch (e) { console.error("Could not load info.json"); }
        }

        function render(data) {
            document.getElementById('main-grid').innerHTML = data.map(app => `
                <div class="app-card" onclick="openApp(${app.id})">
                    <img src="${app.icon === 'N/A' ? 'https://via.placeholder.com/150' : app.icon}">
                    <div class="app-name">${app.name}</div>
                    <div class="app-cat">${app.category}</div>
                </div>
            `).join('');
        }

        // SMART SEARCH: Direct from info.json
        document.getElementById('search-input').addEventListener('input', (e) => {
            const val = e.target.value.toLowerCase();
            const results = apps.filter(a => 
                a.name.toLowerCase().includes(val) || 
                a.category.toLowerCase().includes(val) ||
                a.owner.toLowerCase().includes(val)
            );
            document.getElementById('view-title').innerText = val ? `Results for "${val}"` : "Suggested for you";
            render(results);
        });

        function openApp(id) {
            const app = apps.find(a => a.id === id);
            const isAvail = app.available;
            
            document.getElementById('app-body').innerHTML = `
                <div class="app-header">
                    <img src="${app.icon}">
                    <div>
                        <h1 style="font-size:28px;">${app.name}</h1>
                        <p style="color:var(--ps-green); font-weight:500;">${app.owner}</p>
                        <button class="install-btn" style="background:${isAvail ? '#01875f' : '#d93025'}" 
                                onclick="${isAvail ? "window.open('"+app.versions[0].download+"')" : ""}">
                            ${isAvail ? 'Install' : 'Coming Soon'}
                        </button>
                    </div>
                </div>
                <div class="section-title">About this game</div>
                <p style="color:var(--ps-grey); line-height:1.6;">${app.description}</p>
                <div style="margin-top:15px;">
                    ${['Windows', 'Mac', 'Linux'].map(p => `<span class="platform-badge">${p}</span>`).join('')}
                </div>
                <div class="section-title">Data Safety</div>
                <div style="border: 1px solid #ddd; padding:15px; border-radius:8px; font-size:13px; color:var(--ps-grey);">
                    This developer has provided information about how this app collects, shares, and handles your data.
                </div>
            `;

            // Recommended logic
            const sim = apps.filter(a => app.recommended.includes(a.id));
            document.getElementById('sim-grid').innerHTML = sim.map(s => `
                <div class="app-card" onclick="openApp(${s.id})">
                    <img src="${s.icon}" style="width:80px; height:80px;">
                    <div class="app-name" style="font-size:11px;">${s.name}</div>
                </div>
            `).join('');

            document.getElementById('modal').style.display = 'block';
            window.scrollTo(0,0);
        }

        function closeApp() { document.getElementById('modal').style.display = 'none'; }
        init();
    </script>
</body>
</html>
